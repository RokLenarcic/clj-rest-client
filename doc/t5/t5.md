# Tutorial 5 - Varargs parameters

A very common thing in APIs is to have list operations that have tons of
query parameters because there's a lot of filters.

Entering a bunch of `nil` when calling functions with 8 or more parameters can get really annoying.

To deal with this, we can define varargs parameters.

Our `list-repo-issues` function has multiple filters which are all nullable.

By inserting symbol `&`, you mark all parameters after the symbol as kw-varargs.
All their specs are automatically wrapped in `s/nillable`.

Let's apply this principle improve our `list-repo-issues`. In this case we insert `&` at the start, as both parameters are
optional filters.

```clojure
"issues" {GET (list-repo-issues ::all-since [& state string? since ::since])
```

Let's add all the filters supported by the API:

### **[CODE: End state](t5.clj)**

Note the example of spec conforming use in `::label` spec.

Now we can run the function like this:

```clojure
(list-repo-issues "ansible" "ansible" :state "open" :labels ["a" "b"])
=>
{:clj-rest-client.core/args ["ansible" "ansible" nil "open" nil nil nil ["a" "b"] nil],
 :clj-rest-client.core/name clj-rest-client.test/list-repo-issues,
 :url "repos/ansible/ansible/issues",
 :query-params {"labels" "a,b", "state" "open"},
 :request-method :get,
 :as :json}
 ```